# Công Thức Tính Giá Thành

## 1. Tính Diện Tích (m²)

### Công thức:
```
Diện tích (m²) = (Chiều dài (mm) / 1000) × (Chiều cao (mm) / 1000)
```

**Ví dụ:**
- Chiều dài: 2000 mm
- Chiều cao: 900 mm
- Diện tích = (2000 / 1000) × (900 / 1000) = 2 × 0.9 = **1.8 m²**

---

## 2. Tính Thành Tiền

### Công thức:
```
Thành tiền = Đơn giá (VND/m²) × Diện tích (m²)
```

**Ví dụ:**
- Đơn giá: 2.145.388,89 VND/m²
- Diện tích: 1.8 m²
- Thành tiền = 2.145.388,89 × 1.8 = **3.861.700,002 VND**

**Lưu ý:** 
- Nếu không có diện tích, thành tiền = Đơn giá × Số lượng

---

## 3. Tính Tổng Chi Phí Vật Tư (Material Cost)

### Công thức:
```
Tổng chi phí vật tư = Σ (Số lượng vật tư × Đơn giá vật tư)
```

**Ví dụ (Cửa đi 1 cánh):**
- Nhôm Xingfa Quảng đông: 18 kg × 128.000 = 2.304.000 VND
- Kính 8 li: 1.44 m² × 225.000 = 324.000 VND
- Phụ kiện King Long: 1 bộ × 711.700 = 711.700 VND
- **Tổng chi phí vật tư = 2.304.000 + 324.000 + 711.700 = 3.339.700 VND**

---

## 4. Tính Lợi Nhuận

### Công thức:
```
Lợi nhuận = Thành tiền - Tổng chi phí vật tư
Tỷ lệ lợi nhuận (%) = (Lợi nhuận / Thành tiền) × 100
```

**Ví dụ (Cửa đi 1 cánh):**
- Thành tiền: 3.861.700,002 VND
- Tổng chi phí vật tư: 3.339.700 VND
- Lợi nhuận = 3.861.700,002 - 3.339.700 = **522.000,002 VND**
- Tỷ lệ lợi nhuận = (522.000,002 / 3.861.700,002) × 100 = **13.52%**

---

## 5. Tính Thành Tiền Vật Tư (Component Total Price)

### Công thức:
```
Thành tiền vật tư = Số lượng × Đơn giá
```

**Ví dụ:**
- Nhôm Xingfa: 18 kg × 128.000 VND/kg = 2.304.000 VND
- Kính 8 li: 1.44 m² × 225.000 VND/m² = 324.000 VND

---

## 6. Điều Chỉnh Số Lượng Vật Tư Khi Thay Đổi Số Lượng Sản Phẩm

### Công thức:
```
Số lượng vật tư mới = Số lượng vật tư cơ bản (cho 1 đơn vị) × Số lượng sản phẩm mới
```

**Ví dụ:**
- Sản phẩm ban đầu: 1 bộ, vật tư: 18 kg nhôm
- Khi tăng lên 2 bộ: Số lượng nhôm = 18 × 2 = **36 kg**

---

## Tóm Tắt Các Công Thức Chính

| Công thức | Mô tả |
|-----------|-------|
| **Diện tích (m²)** | `(Dài_mm / 1000) × (Cao_mm / 1000)` |
| **Thành tiền** | `Đơn giá × Diện tích (m²)` |
| **Tổng chi phí vật tư** | `Σ (Số lượng × Đơn giá vật tư)` |
| **Lợi nhuận** | `Thành tiền - Tổng chi phí vật tư` |
| **Tỷ lệ lợi nhuận (%)** | `(Lợi nhuận / Thành tiền) × 100` |

---

## Lưu Ý Quan Trọng

1. **Đơn vị diện tích:** Luôn sử dụng m² (mét vuông), không phải mm²
2. **Chuyển đổi mm → m:** Chia cho 1000 để chuyển từ mm sang m
3. **Chuyển đổi mm² → m²:** Chia cho 1,000,000 (1000 × 1000)
4. **Đơn giá:** Đơn giá sản phẩm là giá trên 1 m² (VND/m²)
5. **Thành tiền:** Tự động tính từ đơn giá × diện tích (m²)

---

## Ví Dụ Thực Tế

### Sản phẩm: Cửa đi 1 cánh

**Thông tin:**
- Chiều dài: 2000 mm
- Chiều cao: 900 mm
- Đơn giá: 2.145.388,89 VND/m²

**Tính toán:**
1. Diện tích = (2000/1000) × (900/1000) = 2 × 0.9 = **1.8 m²**
2. Thành tiền = 2.145.388,89 × 1.8 = **3.861.700,002 VND**

**Vật tư:**
- Nhôm: 18 kg × 128.000 = 2.304.000 VND
- Kính: 1.44 m² × 225.000 = 324.000 VND
- Phụ kiện: 1 bộ × 711.700 = 711.700 VND
- **Tổng vật tư: 3.339.700 VND**

**Lợi nhuận:**
- Lợi nhuận = 3.861.700,002 - 3.339.700 = **522.000,002 VND**
- Tỷ lệ = (522.000,002 / 3.861.700,002) × 100 = **13.52%**

